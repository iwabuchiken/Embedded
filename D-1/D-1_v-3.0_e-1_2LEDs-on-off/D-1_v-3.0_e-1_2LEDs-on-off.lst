MPASM  5.47    D-1_V-3.0_E-1_2LEDS-ON-OFF.ASM   8-11-2013  18:43:20         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;**********************************
                      00002 ;       File:           D-1_v-3.0_e-1_2LEDs-on-off__v-4.0_e-3.asm
                      00003 ;       Version:        v-4.0/e-3
                      00004 ;       Date:           05/08/2013 16:34:10
                      00005 ;
                      00006 ;**********************************
                      00007 
                      00008                 list            p=10f200
                      00009                 #include        <p10f200.inc>
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ;  MPASM PIC10F200 processor include
                      00005 ; 
                      00006 ;  (c) Copyright 1999-2012 Microchip Technology, All rights reserved
                      00007 ;==========================================================================
                      00008 
                      00151         LIST
                      00010 
0FFF   0FEB           00011                 __CONFIG                _CP_OFF & _WDT_OFF & _MCLRE_OFF & _IntRC_OSC
                      00012 
                      00013 ;********* VARIABLES ******************
                      00014 ;{
  00000010            00015 CNT1    EQU             0x10
  00000011            00016 CNT2    EQU             0x11
  00000012            00017 CNT3    EQU             0x12
                      00018 
  00000013            00019 NUM             EQU             0x13
  00000014            00020 TEMP    EQU             0x14
                      00021 
  00000015            00022 ONE             EQU             0x15
  00000016            00023 TWO             EQU             0x16
  00000017            00024 THREE   EQU             0x17
  00000018            00025 FOUR    EQU             0x18
                      00026 
                      00027 ;}
                      00028 ;
                      00029 
                      00030 ;********* SETUP: ENVIRONMENT ********
                      00031         ORG                     0x00
                      00032 
0000   0025           00033         movwf           OSCCAL
0001   0405           00034         bcf                     OSCCAL,FOSC4
                      00035 
0002   0CFC           00036         movlw           b'11111100'
0003   0006           00037         TRIS            GPIO
                      00038         
                      00039 ;********* INITIALIZE: Variables ********
                      00040 ;{
0004   0C00           00041         movlw           d'0'    ; Initialize "TEMP" variable
0005   0034           00042         movwf           TEMP
                      00043 
0006   0C01           00044         movlw           d'1'
MPASM  5.47    D-1_V-3.0_E-1_2LEDS-ON-OFF.ASM   8-11-2013  18:43:20         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0007   0035           00045         movwf           ONE
                      00046 
0008   0C02           00047         movlw           d'2'
0009   0036           00048         movwf           TWO
                      00049 
000A   0C03           00050         movlw           d'3'
000B   0037           00051         movwf           THREE
                      00052 
000C   0C04           00053         movlw           d'4'
000D   0038           00054         movwf           FOUR
                      00055 ;}
                      00056 ;
                      00057 
                      00058 ;********* MAIN ******************
000E                  00059 main_loop
                      00060         
                      00061         ;************************
                      00062         ; Set: W register
                      00063         ;************************
000E   09??           00064         call            Check_GP2_AND_GP3
                      00065         
                      00066         ;************************
                      00067         ; Execute
                      00068         ;************************
000F   0A??           00069         goto            Set_W
                      00070 
                      00071 ;********* FUNCTIONS ****************** 
                      00072 ;Check_GP2_AND_GP3
0010                  00073 Check_GP2_AND_GP3
                      00074 ;{
0010                  00075 Check_GP2
0010   0646           00076         BTFSC           GPIO,2
                      00077         
0011   0A??           00078         goto            Chk_GP3__GP2_ON
0012   0A??           00079         goto            Chk_GP3__GP2_OFF
                      00080 
                      00081 
                      00082 ;}
                      00083 ;
                      00084 
                      00085 ;Chk_GP3__GP2_ON
0013                  00086 Chk_GP3__GP2_ON
                      00087 ;{
0013   0666           00088         BTFSC           GPIO,3
                      00089         
0014   0801           00090         retlw           d'1'
0015   0802           00091         retlw           d'2'
                      00092 ;}
                      00093 ;
                      00094 
                      00095 ;Chk_GP3__GP2_OFF
0016                  00096 Chk_GP3__GP2_OFF
                      00097 ;{
MPASM  5.47    D-1_V-3.0_E-1_2LEDS-ON-OFF.ASM   8-11-2013  18:43:20         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0016   0666           00098         BTFSC           GPIO,3
                      00099         
0017   0803           00100         retlw           d'3'
0018   0804           00101         retlw           d'4'            
                      00102         
                      00103 ;}
                      00104 ;
                      00105 
                      00106 
                      00107 
                      00108 ;Set_W
                      00109 ;{
0019                  00110 Set_W
                      00111         ;-----------------------
                      00112         ; GP2=ON, GP3=ON (W=1)
                      00113         ;-----------------------
                      00114         
                      00115         ;SUBWF          ONE,TEMP
0019   0095           00116         SUBWF           ONE,W
                      00117         
001A   0643           00118         BTFSC           STATUS,Z
                      00119         
001B   0A??           00120         goto            LED_ON_BOTH
                      00121 
                      00122         ;-----------------------
                      00123         ; GP2=ON, GP3=OFF (W=2)
                      00124         ;-----------------------
                      00125 
                      00126         ;SUBWF          TWO,TEMP
001C   0096           00127         SUBWF           TWO,W
                      00128         
001D   0643           00129         BTFSC           STATUS,Z
                      00130         
001E   0A??           00131         goto            LED_ALTER_FAST
                      00132 
                      00133         ;-----------------------
                      00134         ; GP2=OFF, GP3=ON (W=3)
                      00135         ;-----------------------
                      00136 
                      00137         ;SUBWF          THREE,TEMP
001F   0097           00138         SUBWF           THREE,W
                      00139         
0020   0643           00140         BTFSC           STATUS,Z
                      00141         
0021   0A??           00142         goto            LED_ONOFF_BOTH
                      00143 
                      00144         ;-----------------------
                      00145         ; GP2=OFF, GP3=OFF (W=4)
                      00146         ;-----------------------
                      00147 
                      00148         ;SUBWF          FOUR,TEMP
0022   0098           00149         SUBWF           FOUR,W
                      00150         
MPASM  5.47    D-1_V-3.0_E-1_2LEDS-ON-OFF.ASM   8-11-2013  18:43:20         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0023   0643           00151         BTFSC           STATUS,Z
                      00152         
0024   0A??           00153         goto            LED_ALTER_NORMAL
                      00154 ;}
                      00155 
                      00156 ;
                      00157 
                      00158 ;LED_ALTER_NORMAL
                      00159 ;{
0025                  00160 LED_ALTER_NORMAL
                      00161 
0025   0C0A           00162         movlw           d'10'
                      00163 
                      00164         ; GP0=ON, GP1=OFF
0026   0506           00165         BSF                     GPIO,0
0027   0426           00166         BCF                     GPIO,1
                      00167         
                      00168         
0028   09??           00169         call            DLY
                      00170 
                      00171         ;e-3-p1-t2
0029   0C0A           00172         movlw           d'10'
                      00173 
                      00174         ; GP0=OFF, GP1=ON
002A   0406           00175         BCF                     GPIO,0
002B   0526           00176         BSF                     GPIO,1
                      00177         
002C   09??           00178         call            DLY
                      00179         
002D   0A??           00180         goto            main_loop
                      00181 
                      00182 ;}
                      00183 ;
                      00184 
                      00185 ;LED_ALTER_FAST
                      00186 ;{
002E                  00187 LED_ALTER_FAST
                      00188 
002E   0C02           00189         movlw           d'2'
                      00190 
                      00191         ; GP0=ON, GP1=OFF
002F   0506           00192         BSF                     GPIO,0
0030   0426           00193         BCF                     GPIO,1
                      00194         
0031   09??           00195         call            DLY
                      00196 
                      00197         ; GP0=OFF, GP1=ON
0032   0406           00198         BCF                     GPIO,0
0033   0526           00199         BSF                     GPIO,1
                      00200         
0034   09??           00201         call            DLY
                      00202         
0035   0A??           00203         goto            main_loop
MPASM  5.47    D-1_V-3.0_E-1_2LEDS-ON-OFF.ASM   8-11-2013  18:43:20         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00204 
                      00205 ;}
                      00206 ;
                      00207 
                      00208 ;LED_ON_BOTH
                      00209 ;{
0036                  00210 LED_ON_BOTH
                      00211 
                      00212         ; GP0=ON, GP1=ON
0036   0506           00213         BSF                     GPIO,0
0037   0526           00214         BSF                     GPIO,1
                      00215         
0038   0A??           00216         goto            main_loop
                      00217 
                      00218 ;}
                      00219 ;
                      00220 
                      00221 ;LED_ONOFF_BOTH
                      00222 ;{
0039                  00223 LED_ONOFF_BOTH
                      00224 
0039   0C0A           00225         movlw           d'10'
                      00226 
                      00227         ; GP0=ON, GP1=ON
003A   0506           00228         BSF                     GPIO,0
003B   0526           00229         BSF                     GPIO,1
                      00230         
003C   09??           00231         call            DLY
                      00232 
                      00233         ; GP0=OFF, GP1=OFF
003D   0406           00234         BCF                     GPIO,0
003E   0426           00235         BCF                     GPIO,1
                      00236         
003F   09??           00237         call            DLY
                      00238         
0040   0A??           00239         goto            main_loop
                      00240 
                      00241 ;}
                      00242 ;
                      00243 
                      00244 
                      00245 ;DLY
                      00246 ;{
0041                  00247 DLY
                      00248         ;movlw          d'10'
0041   0032           00249         movwf           CNT3
                      00250         
0042                  00251 DLY_100
0042   0C64           00252         movlw           d'100'
0043   0030           00253         movwf           CNT1
                      00254 
0044                  00255 DLP1
0044   0CC8           00256         movlw           d'200'
MPASM  5.47    D-1_V-3.0_E-1_2LEDS-ON-OFF.ASM   8-11-2013  18:43:20         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0045   0031           00257         movwf           CNT2
                      00258         
0046                  00259 DLP2
0046   0000           00260         nop
0047   0000           00261         nop
                      00262         
0048   02F1           00263         decfsz          CNT2,f
0049   0A??           00264         goto            DLP2
                      00265         
004A   02F0           00266         decfsz          CNT1,f
004B   0A??           00267         goto            DLP1
                      00268         
004C   02F2           00269         decfsz          CNT3,f
004D   0A??           00270         goto            DLY_100
                      00271         
004E   0800           00272         retlw           0
                      00273         ;goto           main_loop
                      00274 ;}
                      00275 
                      00276 ;
                      00277 
                      00278 ;******** END ******************
0FEB                  00279         END
MPASM  5.47    D-1_V-3.0_E-1_2LEDS-ON-OFF.ASM   8-11-2013  18:43:20         PAGE  7


SYMBOL TABLE
  LABEL                             VALUE 

C                                 00000000
CAL0                              00000001
CAL1                              00000002
CAL2                              00000003
CAL3                              00000004
CAL4                              00000005
CAL5                              00000006
CAL6                              00000007
CNT1                              00000010
CNT2                              00000011
CNT3                              00000012
Check_GP2                         00000010
Check_GP2_AND_GP3                 00000010
Chk_GP3__GP2_OFF                  00000016
Chk_GP3__GP2_ON                   00000013
DC                                00000001
DLP1                              00000044
DLP2                              00000046
DLY                               00000041
DLY_100                           00000042
F                                 00000001
FOSC4                             00000000
FOUR                              00000018
FSR                               00000004
GP0                               00000000
GP1                               00000001
GP2                               00000002
GP3                               00000003
GPIO                              00000006
GPWUF                             00000007
INDF                              00000000
LED_ALTER_FAST                    0000002E
LED_ALTER_NORMAL                  00000025
LED_ONOFF_BOTH                    00000039
LED_ON_BOTH                       00000036
NOT_GPPU                          00000006
NOT_GPWU                          00000007
NOT_PD                            00000003
NOT_TO                            00000004
NUM                               00000013
ONE                               00000015
OSCCAL                            00000005
PCL                               00000002
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
STATUS                            00000003
Set_W                             00000019
T0CS                              00000005
T0SE                              00000004
TEMP                              00000014
THREE                             00000017
MPASM  5.47    D-1_V-3.0_E-1_2LEDS-ON-OFF.ASM   8-11-2013  18:43:20         PAGE  8


SYMBOL TABLE
  LABEL                             VALUE 

TMR0                              00000001
TRISIO0                           00000000
TRISIO1                           00000001
TRISIO2                           00000002
TRISIO3                           00000003
TWO                               00000016
W                                 00000000
Z                                 00000002
_CONFIG                           00000FFF
_CP_OFF                           00000FFF
_CP_ON                            00000FF7
_IDLOC0                           00000100
_IDLOC1                           00000101
_IDLOC2                           00000102
_IDLOC3                           00000103
_IntRC_OSC                        00000FFF
_MCLRE_OFF                        00000FEF
_MCLRE_ON                         00000FFF
_OSC_IntRC                        00000FFF
_WDTE_OFF                         00000FFB
_WDTE_ON                          00000FFF
_WDT_OFF                          00000FFB
_WDT_ON                           00000FFF
__10F200                          00000001
__DEBUG                           1
main_loop                         0000000E

Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :     0 reported,     0 suppressed

